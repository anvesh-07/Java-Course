# The Modern `switch` in Java: A Complete Guide SWITCH

In Java, the **`switch`** statement is a powerful control flow tool that provides a clean way to check a variable against a list of possible values. It's often a more readable and efficient alternative to a long `if-else if-else` ladder.

Starting with Java 14, `switch` was enhanced to be used not just as a statement, but also as an **expression**, meaning it can evaluate to a single value. This guide covers both the traditional and modern forms.

---

## 1\. The Traditional `switch` Statement (with `:` and `break`)

This is the classic form of `switch` that has been in Java for a long time. It executes blocks of code based on matching `case` values.

### Key Concepts

- **`case value:`**: Each `case` is a block of code that runs if the `switch` variable matches its `value`.
- **"Fall-through"**: A critical behavior of the traditional `switch`. If you do **not** use the `break` keyword, the code will "fall through" and execute the code in the **next** `case` as well. This is a common source of bugs.
- **`break`**: This keyword is essential. It immediately exits the `switch` block, preventing fall-through.
- **`default`**: This is an optional block that runs if none of the `case` values match the variable.

### Syntax

```java
switch (variable) {
    case value1:
        // Code to run for value1
        break; // Exit the switch
    case value2:
        // Code to run for value2
        break; // Exit the switch
    default:
        // Code to run if no case matches
        break;
}
```

### Code Example

```java
int day = 4;
String dayName;

switch (day) {
    case 1:
        dayName = "Sunday";
        break;
    case 2:
        dayName = "Monday";
        break;
    case 3:
        dayName = "Tuesday";
        break;
    case 4:
        dayName = "Wednesday";
        break;
    case 5:
        dayName = "Thursday";
        break;
    case 6:
        dayName = "Friday";
        break;
    case 7:
        dayName = "Saturday";
        break;
    default:
        dayName = "Invalid day";
        break;
}
System.out.println("The day is: " + dayName); // Prints: The day is: Wednesday
```

---

## 2\. The Modern `switch` Expression (with `->` and `yield`) âœ¨

Introduced as a standard feature in **Java 14**, the enhanced `switch` can be used as an _expression_. This means it can directly return a value, which you can then store in a variable. It's more concise, safer (no accidental fall-through), and often more readable.

### How to Store a Value from a `switch`

You can assign the result of a `switch` expression directly to a variable.

```java
// The result of the switch is STORED in the result variable
String result = switch (variable) {
    // cases go here...
};
```

### Using the Arrow `->` Syntax

The arrow (`->`) provides a super clean way to map a `case` to a value or a single statement. No `break` is needed\!

- If the code to the right of `->` is an expression, that value is automatically **returned** from the `switch`.

#### Syntax

```java
String result = switch (variable) {
    case value1 -> "Result A";
    case value2 -> "Result B";
    default     -> "Default Result";
};
```

#### Code Example

Here is the same day-of-the-week logic from before, rewritten as a modern `switch` expression. Notice how much cleaner it is\!

```java
int day = 4;

String dayName = switch (day) {
    case 1 -> "Sunday";
    case 2 -> "Monday";
    case 3 -> "Tuesday";
    case 4 -> "Wednesday"; // The switch evaluates to this value
    case 5 -> "Thursday";
    case 6 -> "Friday";
    case 7 -> "Saturday";
    default -> "Invalid day";
}; // Don't forget the semicolon at the end of the statement!

System.out.println("The day is: " + dayName); // Prints: The day is: Wednesday
```

### Using `:` and `yield` for Code Blocks

What if you need to run multiple lines of code for a single case? You can't use the arrow (`->`) for a multi-line block. Instead, you use a colon (`:`) and a code block `{}`.

Inside that block, you use the **`yield`** keyword to specify the value that this case should return.

- **`yield`**: Explicitly "yields" (or provides) a value from a code block to be the result of the `switch` expression. It essentially takes the place of `return` in this context.

#### Syntax

```java
String result = switch (variable) {
    case value1 -> "Simple case";
    case value2:
        // Complex logic for this case
        System.out.println("This is a multi-line block.");
        yield "Result from complex case"; // Return this value
    default:
        yield "Default result";
};
```

#### Code Example

```java
String fruit = "ORANGE";
String category = switch (fruit) {
    case "APPLE", "PEAR" -> "Common Fruit";
    case "ORANGE":
        System.out.println("Oranges are a great source of Vitamin C!");
        // After running some code, we yield the value for this case.
        yield "Citrus Fruit";
    default -> "Unknown Fruit";
};

System.out.println("The category of " + fruit + " is: " + category);
```

---

## 3\. Handling Multiple Cases Together

Both traditional and modern `switch` statements allow you to group multiple cases to execute the same code. The modern syntax is much cleaner.

### Traditional `switch`: Stack the `case` labels

You achieve this by letting the cases "fall through" intentionally.

```java
// Traditional way
switch (day) {
    case 1:
    case 7:
        System.out.println("It's the Weekend!");
        break;
    case 2:
    case 3:
    case 4:
    case 5:
    case 6:
        System.out.println("It's a Weekday.");
        break;
}
```

### Modern `switch`: Use Commas

You can provide a comma-separated list of values for a single `case` label.

```java
// Modern, more readable way
String dayType = switch (day) {
    case 1, 7 -> "Weekend";
    case 2, 3, 4, 5, 6 -> "Weekday";
    default -> "Invalid day";
};
System.out.println("It's a " + dayType + "!");
```
